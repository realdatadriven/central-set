import{S as Ae,i as Pe,s as Re,T as Ve,e as P,a as j,c as q,w as ge,b as w,d as B,f as A,m as z,g as E,h as H,j as T,k as M,o as C,p as F,q as le,_ as ye,r as Be,u as Ce,P as k,y as W,R as Se,v as K,x as $,z as ne,t as Je,A as se,l as X,G as x,n as je,D as He,a2 as ie,B as Y,J as oe,L as Me,I as Ee,H as Ne}from"./index-8239faad.js";function ae(n,e,t){const o=n.slice();return o[34]=e[t],o[36]=t,o}function _e(n,e,t){const o=n.slice();return o[34]=e[t],o[37]=e,o[36]=t,o}function re(n,e,t){const o=n.slice();return o[38]=e[t],o}function fe(n){let e,t,o,a,c=K(n[3]),i=[];for(let s=0;s<c.length;s+=1)i[s]=me(_e(n,c,s));const m=s=>T(i[s],1,1,()=>{i[s]=null});return{c(){e=P("div");for(let s=0;s<i.length;s+=1)i[s].c();t=j(),o=P("a"),o.innerHTML="<b></b>",w(o,"class","tab tab-lifted text-md grow"),w(e,"class","tabs w-full")},m(s,r){B(s,e,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null);A(e,t),A(e,o),a=!0},p(s,r){if(r[0]&124){c=K(s[3]);let l;for(l=0;l<c.length;l+=1){const u=_e(s,c,l);i[l]?(i[l].p(u,r),E(i[l],1)):(i[l]=me(u),i[l].c(),E(i[l],1),i[l].m(e,t))}for(H(),l=c.length;l<i.length;l+=1)m(l);M()}},i(s){if(!a){for(let r=0;r<c.length;r+=1)E(i[r]);a=!0}},o(s){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)T(i[r]);a=!1},d(s){s&&C(e),$(i,s)}}}function ce(n){let e,t,o,a,c,i,m,s;a=new Ee({props:{type:"outline",icon:n[38].icon||"hashtag",path:"icons"}});function r(...l){return n[22](n[34],n[38],...l)}return{c(){e=P("div"),t=P("button"),o=P("span"),q(a.$$.fragment),w(o,"class","w-5 h-5"),w(t,"class","btn btn-sm btn-circle btn-ghost"),w(e,"class","tooltip tooltip-left"),w(e,"data-tip",c=n[38].label),Y(e,"display",n[2]===n[36]?null:"none")},m(l,u){B(l,e,u),A(e,t),A(t,o),z(a,o,null),i=!0,m||(s=X(t,"click",r),m=!0)},p(l,u){n=l;const R={};u[0]&8&&(R.icon=n[38].icon||"hashtag"),a.$set(R),(!i||u[0]&8&&c!==(c=n[38].label))&&w(e,"data-tip",c),u[0]&4&&Y(e,"display",n[2]===n[36]?null:"none")},i(l){i||(E(a.$$.fragment,l),i=!0)},o(l){T(a.$$.fragment,l),i=!1},d(l){l&&C(e),F(a),m=!1,s()}}}function ue(n){let e,t,o,a,c,i,m,s;a=new Ee({props:{type:"outline",icon:"x",path:"icons"}});function r(...l){return n[23](n[36],...l)}return{c(){e=P("div"),t=P("button"),o=P("span"),q(a.$$.fragment),w(o,"class","w-5 h-5"),w(t,"class","btn btn-sm btn-circle btn-ghost"),w(e,"class","tooltip tooltip-left"),w(e,"data-tip",c=n[5].t("crud.close"))},m(l,u){B(l,e,u),A(e,t),A(t,o),z(a,o,null),i=!0,m||(s=X(t,"click",x(r)),m=!0)},p(l,u){n=l,(!i||u[0]&32&&c!==(c=n[5].t("crud.close")))&&w(e,"data-tip",c)},i(l){i||(E(a.$$.fragment,l),i=!0)},o(l){T(a.$$.fragment,l),i=!1},d(l){l&&C(e),F(a),m=!1,s()}}}function me(n){var N;let e,t,o=ne(n[34].label,30)+"",a,c,i,m,s,r,l,u,R,I=K(((N=n[34])==null?void 0:N.header_actions)||[]),f=[];for(let p=0;p<I.length;p+=1)f[p]=ce(re(n,I,p));const d=p=>T(f[p],1,1,()=>{f[p]=null});let b=n[34].show_top_close&&ue(n);function S(){return n[24](n[36])}function J(...p){return n[25](n[34],n[37],n[36],...p)}return{c(){e=P("span"),t=P("b"),a=Je(o),c=j();for(let p=0;p<f.length;p+=1)f[p].c();i=j(),b&&b.c(),m=j(),w(t,"class","pr-2"),w(e,"class",s="tab tab-lifted text-md "+(n[2]===n[36]?"tab-active active":"")+" flex flex-row"),w(e,"title",r=se(n[34].label,30))},m(p,g){B(p,e,g),A(e,t),A(t,a),A(e,c);for(let V=0;V<f.length;V+=1)f[V]&&f[V].m(e,null);A(e,i),b&&b.m(e,null),A(e,m),l=!0,u||(R=[X(e,"click",x(S)),X(e,"contextmenu",x(J))],u=!0)},p(p,g){var V;if(n=p,(!l||g[0]&8)&&o!==(o=ne(n[34].label,30)+"")&&je(a,o),g[0]&28){I=K(((V=n[34])==null?void 0:V.header_actions)||[]);let v;for(v=0;v<I.length;v+=1){const D=re(n,I,v);f[v]?(f[v].p(D,g),E(f[v],1)):(f[v]=ce(D),f[v].c(),E(f[v],1),f[v].m(e,i))}for(H(),v=I.length;v<f.length;v+=1)d(v);M()}n[34].show_top_close?b?(b.p(n,g),g[0]&8&&E(b,1)):(b=ue(n),b.c(),E(b,1),b.m(e,m)):b&&(H(),T(b,1,1,()=>{b=null}),M()),(!l||g[0]&4&&s!==(s="tab tab-lifted text-md "+(n[2]===n[36]?"tab-active active":"")+" flex flex-row"))&&w(e,"class",s),(!l||g[0]&8&&r!==(r=se(n[34].label,30)))&&w(e,"title",r)},i(p){if(!l){for(let g=0;g<I.length;g+=1)E(f[g]);E(b),l=!0}},o(p){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)T(f[g]);T(b),l=!1},d(p){p&&C(e),$(f,p),b&&b.d(),u=!1,He(R)}}}function he(n){let e,t,o=K(n[3]),a=[];for(let i=0;i<o.length;i+=1)a[i]=de(ae(n,o,i));const c=i=>T(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=ge()},m(i,m){for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(i,m);B(i,e,m),t=!0},p(i,m){if(m[0]&28){o=K(i[3]);let s;for(s=0;s<o.length;s+=1){const r=ae(i,o,s);a[s]?(a[s].p(r,m),E(a[s],1)):(a[s]=de(r),a[s].c(),E(a[s],1),a[s].m(e.parentNode,e))}for(H(),s=o.length;s<a.length;s+=1)c(s);M()}},i(i){if(!t){for(let m=0;m<o.length;m+=1)E(a[m]);t=!0}},o(i){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)T(a[m]);t=!1},d(i){i&&C(e),$(a,i)}}}function de(n){let e,t,o,a;const c=[{...n[34].data,n_tabs:n[3].length},{action:n[4][n[34].label]}];var i=n[34].component;function m(s,r){let l={};if(r!==void 0&&r[0]&24)l=oe(c,[r[0]&8&&{...s[34].data,n_tabs:s[3].length},{action:s[4][s[34].label]}]);else for(let u=0;u<c.length;u+=1)l=Ne(l,c[u]);return{props:l}}return i&&(t=ie(i,m(n))),{c(){e=P("div"),t&&q(t.$$.fragment),o=j(),w(e,"class","w-full"),Y(e,"display",n[2]===n[36]?null:"none")},m(s,r){B(s,e,r),t&&z(t,e,null),A(e,o),a=!0},p(s,r){if(r[0]&8&&i!==(i=s[34].component)){if(t){H();const l=t;T(l.$$.fragment,1,0,()=>{F(l,1)}),M()}i?(t=ie(i,m(s,r)),q(t.$$.fragment),E(t.$$.fragment,1),z(t,e,o)):t=null}else if(i){const l=r[0]&24?oe(c,[r[0]&8&&{...s[34].data,n_tabs:s[3].length},{action:s[4][s[34].label]}]):{};t.$set(l)}(!a||r[0]&4)&&Y(e,"display",s[2]===s[36]?null:"none")},i(s){a||(t&&E(t.$$.fragment,s),a=!0)},o(s){t&&T(t.$$.fragment,s),a=!1},d(s){s&&C(e),t&&F(t)}}}function be(n){let e,t;return e=new Me({props:{open:n[1]}}),{c(){q(e.$$.fragment)},m(o,a){z(e,o,a),t=!0},p(o,a){const c={};a[0]&2&&(c.open=o[1]),e.$set(c)},i(o){t||(E(e.$$.fragment,o),t=!0)},o(o){T(e.$$.fragment,o),t=!1},d(o){F(e,o)}}}function Ge(n){var R,I;let e,t,o,a,c,i,m,s,r=((R=n[3])==null?void 0:R.length)>1&&fe(n),l=((I=n[3])==null?void 0:I.length)>0&&he(n);c=new Ve({props:{open:n[0].open,type:n[0].type,msg:n[0].msg,timer:2e4}}),c.$on("dismiss",n[26]);let u=n[1]&&be(n);return{c(){e=P("div"),r&&r.c(),t=j(),o=P("div"),l&&l.c(),a=j(),q(c.$$.fragment),i=j(),u&&u.c(),m=ge(),w(o,"class","w-full grow overflow-x-hidden overflow-y-auto"),w(e,"class","p-0 overflow-hidden flex flex-col")},m(f,d){B(f,e,d),r&&r.m(e,null),A(e,t),A(e,o),l&&l.m(o,null),B(f,a,d),z(c,f,d),B(f,i,d),u&&u.m(f,d),B(f,m,d),s=!0},p(f,d){var S,J;((S=f[3])==null?void 0:S.length)>1?r?(r.p(f,d),d[0]&8&&E(r,1)):(r=fe(f),r.c(),E(r,1),r.m(e,t)):r&&(H(),T(r,1,1,()=>{r=null}),M()),((J=f[3])==null?void 0:J.length)>0?l?(l.p(f,d),d[0]&8&&E(l,1)):(l=he(f),l.c(),E(l,1),l.m(o,null)):l&&(H(),T(l,1,1,()=>{l=null}),M());const b={};d[0]&1&&(b.open=f[0].open),d[0]&1&&(b.type=f[0].type),d[0]&1&&(b.msg=f[0].msg),c.$set(b),f[1]?u?(u.p(f,d),d[0]&2&&E(u,1)):(u=be(f),u.c(),E(u,1),u.m(m.parentNode,m)):u&&(H(),T(u,1,1,()=>{u=null}),M())},i(f){s||(E(r),E(l),E(c.$$.fragment,f),E(u),s=!0)},o(f){T(r),T(l),T(c.$$.fragment,f),T(u),s=!1},d(f){f&&(C(e),C(a),C(i),C(m)),r&&r.d(),l&&l.d(),F(c,f),u&&u.d(f)}}}function qe(n,e,t){let o,a;le(n,ye,_=>t(30,o=_)),le(n,Be,_=>t(5,a=_));let{table:c}=e,{data:i={}}=e,{menu:m={}}=e,{is_fk:s=!1}=e,{main_pk_id:r=null}=e,{main_table:l=null}=e,{label:u=null}=e,{limit:R=10}=e,{is_subform:I=!1}=e,{is_submenu:f=!1}=e,{actions:d={}}=e,{has_actions:b=!0}=e,{has_numbering:S=!1}=e,{has_check:J=!0}=e,{opts:N=null}=e,p,g={open:!1,msg:null,type:null},V=!1,v,D=[],Q={},y=null;const pe=_=>{var L;try{const h=D.map((O,U)=>(O.index=U,O)).filter(O=>O.label===_.label);try{delete Q[_.label]}catch{}if(h.length>0&&_.data){try{Z((L=h[0])==null?void 0:L.index)}catch(O){console.log(O.message)}setTimeout(()=>{t(3,D=[...D,W.cloneDeep(_)]),t(2,v=D.length-1)},10)}else t(3,D=[...D,W.cloneDeep(_)]),t(2,v=D.length-1);console.log(D,v)}catch(h){console.log(h.message)}},Z=_=>{try{if(D.length>1){try{delete Q[D[_].label]}catch{}D.splice(_,1),t(3,D=[...D]),t(2,v=0)}console.log({payload:_},D)}catch(L){console.log(L.message)}},ve=_=>{var h,O;const L=`${a.t("crud.list")} - ${((O=(h=o==null?void 0:o.tables)==null?void 0:h[_])==null?void 0:O.comment)||_}`;t(3,D=[{component:p,label:L,data:{label:L||u,table:_,has_actions:b,has_check:J,has_numbering:S,aux_data:i,menu:m,is_fk:s,main_pk_id:r,is_subform:I,is_submenu:f,main_table:l,limit:R,actions:{show_in_tabs:pe,dismiss_modal:d==null?void 0:d.dismiss_modal,fk_table_item_selected:d==null?void 0:d.fk_table_item_selected},intercepted:y==null?void 0:y[0],opts:N}}]),t(2,v=0),console.log(v,D)};let G=[];const ke=_=>{var L,h,O,U,ee,te;if((O=(h=(L=o==null?void 0:o.tables)==null?void 0:L[_])==null?void 0:h.custom_table)!=null&&O.config)try{return JSON.parse((te=(ee=(U=o==null?void 0:o.tables)==null?void 0:U[_])==null?void 0:ee.custom_table)==null?void 0:te.config)}catch(Ie){return console.log(Ie.message),{}}};Ce(async()=>{a.changeLanguage(o==null?void 0:o.lang),(async()=>{var L;t(1,V=!0),p=(await k(()=>import("./Crud-33155246.js"),["assets/Crud-33155246.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/Pagination-0cc50f26.js","assets/Dialog-6b01fb35.js"])).default;let _=ke(c);if(G=W.cloneDeep((_==null?void 0:_.extra_options)||[]),G.forEach(h=>{try{typeof(h==null?void 0:h.data)=="string"&&(h.data=JSON.parse(h==null?void 0:h.data))}catch(O){console.log(O.message)}}),y=G==null?void 0:G.filter(h=>h==null?void 0:h.intercept_r),console.log({table:c,extra_options:G,_is_intercepted:y}),(y==null?void 0:y.length)>0)try{p=(await Se(Object.assign({"../dyn/AdminApps.svelte":()=>k(()=>import("./AdminApps-01d38490.js"),["assets/AdminApps-01d38490.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/Pagination-0cc50f26.js"]),"../dyn/Calendar.svelte":()=>k(()=>import("./Calendar-2b9d2961.js"),["assets/Calendar-2b9d2961.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/Dialog-6b01fb35.js"]),"../dyn/DBExplorer.svelte":()=>k(()=>import("./DBExplorer-7bf936bc.js"),["assets/DBExplorer-7bf936bc.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/Pagination-0cc50f26.js"]),"../dyn/DCJS.svelte":()=>k(()=>import("./DCJS-73bd61b6.js"),["assets/DCJS-73bd61b6.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js"]),"../dyn/Dashboard.svelte":()=>k(()=>import("./Dashboard-5f8b542b.js"),["assets/Dashboard-5f8b542b.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/DataViz-a7855331.js"]),"../dyn/DataTable.svelte":()=>k(()=>import("./DataTable-abed8de9.js"),["assets/DataTable-abed8de9.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js"]),"../dyn/DataViz.svelte":()=>k(()=>import("./DataViz-a7855331.js"),["assets/DataViz-a7855331.js","assets/index-8239faad.js","assets/index-72afd4a3.css"]),"../dyn/EChartsEngine.svelte":()=>k(()=>import("./EChartsEngine-496f185d.js"),["assets/EChartsEngine-496f185d.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/index-d8696fb1.js"]),"../dyn/EChartsEngineOld.svelte":()=>k(()=>import("./EChartsEngineOld-909ce7e6.js"),["assets/EChartsEngineOld-909ce7e6.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/index-d8696fb1.js"]),"../dyn/ETLReportBase.svelte":()=>k(()=>import("./ETLReportBase-a7f1d949.js"),["assets/ETLReportBase-a7f1d949.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/Pagination-0cc50f26.js"]),"../dyn/EditConf.svelte":()=>k(()=>import("./EditConf-9c32194a.js"),["assets/EditConf-9c32194a.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/ObjectEditor-4da1c4e4.js","assets/pt-4424e41e.js"]),"../dyn/EditDashboardItem.svelte":()=>k(()=>import("./EditDashboardItem-9031f5a2.js"),["assets/EditDashboardItem-9031f5a2.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/ObjectEditor-4da1c4e4.js"]),"../dyn/GaugeJS.svelte":()=>k(()=>import("./GaugeJS-5b25a118.js"),["assets/GaugeJS-5b25a118.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js"]),"../dyn/ImportFields.svelte":()=>k(()=>import("./ImportFields-95456205.js"),["assets/ImportFields-95456205.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/Pagination-0cc50f26.js"]),"../dyn/ManageDBTable.svelte":()=>k(()=>import("./ManageDBTable-91bcc892.js"),["assets/ManageDBTable-91bcc892.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/Pagination-0cc50f26.js"]),"../dyn/MiniStat.svelte":()=>k(()=>import("./MiniStat-7363c739.js"),["assets/MiniStat-7363c739.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js"]),"../dyn/ObjectEditor.svelte":()=>k(()=>import("./ObjectEditor-4da1c4e4.js"),["assets/ObjectEditor-4da1c4e4.js","assets/index-8239faad.js","assets/index-72afd4a3.css"]),"../dyn/ObjectEditorGPT.svelte":()=>k(()=>import("./ObjectEditorGPT-46d1a93e.js"),["assets/ObjectEditorGPT-46d1a93e.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/ObjectEditorGPT-7ef2f271.css"]),"../dyn/PickDates.svelte":()=>k(()=>import("./PickDates-e1c5e9c8.js"),["assets/PickDates-e1c5e9c8.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js"]),"../dyn/RowLevelAccess.svelte":()=>k(()=>import("./RowLevelAccess-4480305c.js"),["assets/RowLevelAccess-4480305c.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/Pagination-0cc50f26.js"]),"../dyn/TranslateDBTable.svelte":()=>k(()=>import("./TranslateDBTable-bfae3fe3.js"),["assets/TranslateDBTable-bfae3fe3.js","assets/index-8239faad.js","assets/index-72afd4a3.css","assets/pt-4424e41e.js","assets/Pagination-0cc50f26.js"])}),`../dyn/${(L=y==null?void 0:y[0])==null?void 0:L.component}.svelte`)).default}catch(h){t(0,g.msg=h==null?void 0:h.message,g),t(0,g.type="danger",g),t(0,g.open=!0,g)}ve(c),t(1,V=!1)})()});const De=(_,L,h)=>{try{t(4,Q={...Q,[_.label]:W.cloneDeep(L)})}catch(O){console.log(O.message)}},Te=(_,L)=>Z(_),we=_=>{t(2,v=_)},Le=(_,L,h,O)=>{t(3,L[h].context_menu=!1,D)},Oe=_=>{t(0,g.open=!1,g)};return n.$$set=_=>{"table"in _&&t(7,c=_.table),"data"in _&&t(8,i=_.data),"menu"in _&&t(9,m=_.menu),"is_fk"in _&&t(10,s=_.is_fk),"main_pk_id"in _&&t(11,r=_.main_pk_id),"main_table"in _&&t(12,l=_.main_table),"label"in _&&t(13,u=_.label),"limit"in _&&t(14,R=_.limit),"is_subform"in _&&t(15,I=_.is_subform),"is_submenu"in _&&t(16,f=_.is_submenu),"actions"in _&&t(17,d=_.actions),"has_actions"in _&&t(18,b=_.has_actions),"has_numbering"in _&&t(19,S=_.has_numbering),"has_check"in _&&t(20,J=_.has_check),"opts"in _&&t(21,N=_.opts)},n.$$.update=()=>{n.$$.dirty[0]&128&&console.log({table:c})},[g,V,v,D,Q,a,Z,c,i,m,s,r,l,u,R,I,f,d,b,S,J,N,De,Te,we,Le,Oe]}class Fe extends Ae{constructor(e){super(),Pe(this,e,qe,Ge,Re,{table:7,data:8,menu:9,is_fk:10,main_pk_id:11,main_table:12,label:13,limit:14,is_subform:15,is_submenu:16,actions:17,has_actions:18,has_numbering:19,has_check:20,opts:21},null,[-1,-1])}}export{Fe as default};
