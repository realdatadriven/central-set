import{S as Ae,i as Pe,s as Re,T as Ve,e as P,a as j,c as q,w as ge,b as w,d as B,f as A,m as z,g as p,h as H,j as T,k as M,o as S,p as F,q as le,_ as ye,r as Be,u as Se,P as D,y as W,R as Ce,v as K,x as $,z as ne,t as Je,A as se,l as X,G as x,n as je,D as He,a2 as ie,B as Y,J as oe,L as Me,I as pe,H as Ne}from"./index-13d4ac78.js";function ae(n,e,t){const o=n.slice();return o[34]=e[t],o[36]=t,o}function _e(n,e,t){const o=n.slice();return o[34]=e[t],o[37]=e,o[36]=t,o}function re(n,e,t){const o=n.slice();return o[38]=e[t],o}function fe(n){let e,t,o,a,c=K(n[3]),i=[];for(let s=0;s<c.length;s+=1)i[s]=me(_e(n,c,s));const m=s=>T(i[s],1,1,()=>{i[s]=null});return{c(){e=P("div");for(let s=0;s<i.length;s+=1)i[s].c();t=j(),o=P("a"),o.innerHTML="<b></b>",w(o,"class","tab tab-lifted text-md grow"),w(e,"class","tabs w-full")},m(s,r){B(s,e,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null);A(e,t),A(e,o),a=!0},p(s,r){if(r[0]&124){c=K(s[3]);let l;for(l=0;l<c.length;l+=1){const u=_e(s,c,l);i[l]?(i[l].p(u,r),p(i[l],1)):(i[l]=me(u),i[l].c(),p(i[l],1),i[l].m(e,t))}for(H(),l=c.length;l<i.length;l+=1)m(l);M()}},i(s){if(!a){for(let r=0;r<c.length;r+=1)p(i[r]);a=!0}},o(s){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)T(i[r]);a=!1},d(s){s&&S(e),$(i,s)}}}function ce(n){let e,t,o,a,c,i,m,s;a=new pe({props:{type:"outline",icon:n[38].icon||"hashtag",path:"icons"}});function r(...l){return n[22](n[34],n[38],...l)}return{c(){e=P("div"),t=P("button"),o=P("span"),q(a.$$.fragment),w(o,"class","w-5 h-5"),w(t,"class","btn btn-sm btn-circle btn-ghost"),w(e,"class","tooltip tooltip-left"),w(e,"data-tip",c=n[38].label),Y(e,"display",n[2]===n[36]?null:"none")},m(l,u){B(l,e,u),A(e,t),A(t,o),z(a,o,null),i=!0,m||(s=X(t,"click",r),m=!0)},p(l,u){n=l;const R={};u[0]&8&&(R.icon=n[38].icon||"hashtag"),a.$set(R),(!i||u[0]&8&&c!==(c=n[38].label))&&w(e,"data-tip",c),u[0]&4&&Y(e,"display",n[2]===n[36]?null:"none")},i(l){i||(p(a.$$.fragment,l),i=!0)},o(l){T(a.$$.fragment,l),i=!1},d(l){l&&S(e),F(a),m=!1,s()}}}function ue(n){let e,t,o,a,c,i,m,s;a=new pe({props:{type:"outline",icon:"x",path:"icons"}});function r(...l){return n[23](n[36],...l)}return{c(){e=P("div"),t=P("button"),o=P("span"),q(a.$$.fragment),w(o,"class","w-5 h-5"),w(t,"class","btn btn-sm btn-circle btn-ghost"),w(e,"class","tooltip tooltip-left"),w(e,"data-tip",c=n[5].t("crud.close"))},m(l,u){B(l,e,u),A(e,t),A(t,o),z(a,o,null),i=!0,m||(s=X(t,"click",x(r)),m=!0)},p(l,u){n=l,(!i||u[0]&32&&c!==(c=n[5].t("crud.close")))&&w(e,"data-tip",c)},i(l){i||(p(a.$$.fragment,l),i=!0)},o(l){T(a.$$.fragment,l),i=!1},d(l){l&&S(e),F(a),m=!1,s()}}}function me(n){var N;let e,t,o=ne(n[34].label,30)+"",a,c,i,m,s,r,l,u,R,O=K(((N=n[34])==null?void 0:N.header_actions)||[]),f=[];for(let v=0;v<O.length;v+=1)f[v]=ce(re(n,O,v));const d=v=>T(f[v],1,1,()=>{f[v]=null});let b=n[34].show_top_close&&ue(n);function C(){return n[24](n[36])}function J(...v){return n[25](n[34],n[37],n[36],...v)}return{c(){e=P("span"),t=P("b"),a=Je(o),c=j();for(let v=0;v<f.length;v+=1)f[v].c();i=j(),b&&b.c(),m=j(),w(t,"class","pr-2"),w(e,"class",s="tab tab-lifted text-md "+(n[2]===n[36]?"tab-active active":"")+" flex flex-row"),w(e,"title",r=se(n[34].label,30))},m(v,g){B(v,e,g),A(e,t),A(t,a),A(e,c);for(let V=0;V<f.length;V+=1)f[V]&&f[V].m(e,null);A(e,i),b&&b.m(e,null),A(e,m),l=!0,u||(R=[X(e,"click",x(C)),X(e,"contextmenu",x(J))],u=!0)},p(v,g){var V;if(n=v,(!l||g[0]&8)&&o!==(o=ne(n[34].label,30)+"")&&je(a,o),g[0]&28){O=K(((V=n[34])==null?void 0:V.header_actions)||[]);let E;for(E=0;E<O.length;E+=1){const k=re(n,O,E);f[E]?(f[E].p(k,g),p(f[E],1)):(f[E]=ce(k),f[E].c(),p(f[E],1),f[E].m(e,i))}for(H(),E=O.length;E<f.length;E+=1)d(E);M()}n[34].show_top_close?b?(b.p(n,g),g[0]&8&&p(b,1)):(b=ue(n),b.c(),p(b,1),b.m(e,m)):b&&(H(),T(b,1,1,()=>{b=null}),M()),(!l||g[0]&4&&s!==(s="tab tab-lifted text-md "+(n[2]===n[36]?"tab-active active":"")+" flex flex-row"))&&w(e,"class",s),(!l||g[0]&8&&r!==(r=se(n[34].label,30)))&&w(e,"title",r)},i(v){if(!l){for(let g=0;g<O.length;g+=1)p(f[g]);p(b),l=!0}},o(v){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)T(f[g]);T(b),l=!1},d(v){v&&S(e),$(f,v),b&&b.d(),u=!1,He(R)}}}function he(n){let e,t,o=K(n[3]),a=[];for(let i=0;i<o.length;i+=1)a[i]=de(ae(n,o,i));const c=i=>T(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=ge()},m(i,m){for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(i,m);B(i,e,m),t=!0},p(i,m){if(m[0]&28){o=K(i[3]);let s;for(s=0;s<o.length;s+=1){const r=ae(i,o,s);a[s]?(a[s].p(r,m),p(a[s],1)):(a[s]=de(r),a[s].c(),p(a[s],1),a[s].m(e.parentNode,e))}for(H(),s=o.length;s<a.length;s+=1)c(s);M()}},i(i){if(!t){for(let m=0;m<o.length;m+=1)p(a[m]);t=!0}},o(i){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)T(a[m]);t=!1},d(i){i&&S(e),$(a,i)}}}function de(n){let e,t,o,a;const c=[{...n[34].data,n_tabs:n[3].length},{action:n[4][n[34].label]}];var i=n[34].component;function m(s,r){let l={};if(r!==void 0&&r[0]&24)l=oe(c,[r[0]&8&&{...s[34].data,n_tabs:s[3].length},{action:s[4][s[34].label]}]);else for(let u=0;u<c.length;u+=1)l=Ne(l,c[u]);return{props:l}}return i&&(t=ie(i,m(n))),{c(){e=P("div"),t&&q(t.$$.fragment),o=j(),w(e,"class","w-full"),Y(e,"display",n[2]===n[36]?null:"none")},m(s,r){B(s,e,r),t&&z(t,e,null),A(e,o),a=!0},p(s,r){if(r[0]&8&&i!==(i=s[34].component)){if(t){H();const l=t;T(l.$$.fragment,1,0,()=>{F(l,1)}),M()}i?(t=ie(i,m(s,r)),q(t.$$.fragment),p(t.$$.fragment,1),z(t,e,o)):t=null}else if(i){const l=r[0]&24?oe(c,[r[0]&8&&{...s[34].data,n_tabs:s[3].length},{action:s[4][s[34].label]}]):{};t.$set(l)}(!a||r[0]&4)&&Y(e,"display",s[2]===s[36]?null:"none")},i(s){a||(t&&p(t.$$.fragment,s),a=!0)},o(s){t&&T(t.$$.fragment,s),a=!1},d(s){s&&S(e),t&&F(t)}}}function be(n){let e,t;return e=new Me({props:{open:n[1]}}),{c(){q(e.$$.fragment)},m(o,a){z(e,o,a),t=!0},p(o,a){const c={};a[0]&2&&(c.open=o[1]),e.$set(c)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){T(e.$$.fragment,o),t=!1},d(o){F(e,o)}}}function Ge(n){var R,O;let e,t,o,a,c,i,m,s,r=((R=n[3])==null?void 0:R.length)>1&&fe(n),l=((O=n[3])==null?void 0:O.length)>0&&he(n);c=new Ve({props:{open:n[0].open,type:n[0].type,msg:n[0].msg,timer:2e4}}),c.$on("dismiss",n[26]);let u=n[1]&&be(n);return{c(){e=P("div"),r&&r.c(),t=j(),o=P("div"),l&&l.c(),a=j(),q(c.$$.fragment),i=j(),u&&u.c(),m=ge(),w(o,"class","w-full grow overflow-x-hidden overflow-y-auto"),w(e,"class","p-0 overflow-hidden flex flex-col")},m(f,d){B(f,e,d),r&&r.m(e,null),A(e,t),A(e,o),l&&l.m(o,null),B(f,a,d),z(c,f,d),B(f,i,d),u&&u.m(f,d),B(f,m,d),s=!0},p(f,d){var C,J;((C=f[3])==null?void 0:C.length)>1?r?(r.p(f,d),d[0]&8&&p(r,1)):(r=fe(f),r.c(),p(r,1),r.m(e,t)):r&&(H(),T(r,1,1,()=>{r=null}),M()),((J=f[3])==null?void 0:J.length)>0?l?(l.p(f,d),d[0]&8&&p(l,1)):(l=he(f),l.c(),p(l,1),l.m(o,null)):l&&(H(),T(l,1,1,()=>{l=null}),M());const b={};d[0]&1&&(b.open=f[0].open),d[0]&1&&(b.type=f[0].type),d[0]&1&&(b.msg=f[0].msg),c.$set(b),f[1]?u?(u.p(f,d),d[0]&2&&p(u,1)):(u=be(f),u.c(),p(u,1),u.m(m.parentNode,m)):u&&(H(),T(u,1,1,()=>{u=null}),M())},i(f){s||(p(r),p(l),p(c.$$.fragment,f),p(u),s=!0)},o(f){T(r),T(l),T(c.$$.fragment,f),T(u),s=!1},d(f){f&&(S(e),S(a),S(i),S(m)),r&&r.d(),l&&l.d(),F(c,f),u&&u.d(f)}}}function qe(n,e,t){let o,a;le(n,ye,_=>t(30,o=_)),le(n,Be,_=>t(5,a=_));let{table:c}=e,{data:i={}}=e,{menu:m={}}=e,{is_fk:s=!1}=e,{main_pk_id:r=null}=e,{main_table:l=null}=e,{label:u=null}=e,{limit:R=10}=e,{is_subform:O=!1}=e,{is_submenu:f=!1}=e,{actions:d={}}=e,{has_actions:b=!0}=e,{has_numbering:C=!1}=e,{has_check:J=!0}=e,{opts:N=null}=e,v,g={open:!1,msg:null,type:null},V=!1,E,k=[],Q={},y=null;const ve=_=>{var L;try{const h=k.map((I,U)=>(I.index=U,I)).filter(I=>I.label===_.label);try{delete Q[_.label]}catch{}if(h.length>0&&_.data){try{Z((L=h[0])==null?void 0:L.index)}catch(I){console.log(I.message)}setTimeout(()=>{t(3,k=[...k,W.cloneDeep(_)]),t(2,E=k.length-1)},10)}else t(3,k=[...k,W.cloneDeep(_)]),t(2,E=k.length-1);console.log(k,E)}catch(h){console.log(h.message)}},Z=_=>{try{if(k.length>1){try{delete Q[k[_].label]}catch{}k.splice(_,1),t(3,k=[...k]),t(2,E=0)}console.log({payload:_},k)}catch(L){console.log(L.message)}},Ee=_=>{var h,I;const L=`${a.t("crud.list")} - ${((I=(h=o==null?void 0:o.tables)==null?void 0:h[_])==null?void 0:I.comment)||_}`;t(3,k=[{component:v,label:L,data:{label:L||u,table:_,has_actions:b,has_check:J,has_numbering:C,aux_data:i,menu:m,is_fk:s,main_pk_id:r,is_subform:O,is_submenu:f,main_table:l,limit:R,actions:{show_in_tabs:ve,dismiss_modal:d==null?void 0:d.dismiss_modal,fk_table_item_selected:d==null?void 0:d.fk_table_item_selected},intercepted:y==null?void 0:y[0],opts:N}}]),t(2,E=0),console.log(E,k)};let G=[];const ke=_=>{var L,h,I,U,ee,te;if((I=(h=(L=o==null?void 0:o.tables)==null?void 0:L[_])==null?void 0:h.custom_table)!=null&&I.config)try{return JSON.parse((te=(ee=(U=o==null?void 0:o.tables)==null?void 0:U[_])==null?void 0:ee.custom_table)==null?void 0:te.config)}catch(Oe){return console.log(Oe.message),{}}};Se(async()=>{a.changeLanguage(o==null?void 0:o.lang),(async()=>{var L;t(1,V=!0),v=(await D(()=>import("./Crud-8304fe8c.js"),["assets/Crud-8304fe8c.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js","assets/Pagination-a0736574.js","assets/Dialog-45a7d08e.js"])).default;let _=ke(c);if(G=W.cloneDeep((_==null?void 0:_.extra_options)||[]),G.forEach(h=>{try{typeof(h==null?void 0:h.data)=="string"&&(h.data=JSON.parse(h==null?void 0:h.data))}catch(I){console.log(I.message)}}),y=G==null?void 0:G.filter(h=>h==null?void 0:h.intercept_r),console.log({table:c,extra_options:G,_is_intercepted:y}),(y==null?void 0:y.length)>0)try{v=(await Ce(Object.assign({"../dyn/AdminApps.svelte":()=>D(()=>import("./AdminApps-65e2df58.js"),["assets/AdminApps-65e2df58.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js","assets/Pagination-a0736574.js"]),"../dyn/Calendar.svelte":()=>D(()=>import("./Calendar-b9bbc1f1.js"),["assets/Calendar-b9bbc1f1.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js","assets/Dialog-45a7d08e.js"]),"../dyn/DBExplorer.svelte":()=>D(()=>import("./DBExplorer-868b1fd1.js"),["assets/DBExplorer-868b1fd1.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js","assets/Pagination-a0736574.js"]),"../dyn/DCJS.svelte":()=>D(()=>import("./DCJS-da04be06.js"),["assets/DCJS-da04be06.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js"]),"../dyn/Dashboard.svelte":()=>D(()=>import("./Dashboard-27cc5821.js"),["assets/Dashboard-27cc5821.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js","assets/DataViz-740d4f3c.js"]),"../dyn/DataTable.svelte":()=>D(()=>import("./DataTable-77d7dff5.js"),["assets/DataTable-77d7dff5.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js"]),"../dyn/DataViz.svelte":()=>D(()=>import("./DataViz-740d4f3c.js"),["assets/DataViz-740d4f3c.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css"]),"../dyn/EChartsEngine.svelte":()=>D(()=>import("./EChartsEngine-5285863f.js"),["assets/EChartsEngine-5285863f.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js"]),"../dyn/ETLReportBase.svelte":()=>D(()=>import("./ETLReportBase-d20a96c0.js"),["assets/ETLReportBase-d20a96c0.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js","assets/Pagination-a0736574.js"]),"../dyn/EditDashboardItem.svelte":()=>D(()=>import("./EditDashboardItem-c01d2f5b.js"),["assets/EditDashboardItem-c01d2f5b.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js","assets/ObjectEditor-dc630b79.js"]),"../dyn/GaugeJS.svelte":()=>D(()=>import("./GaugeJS-5f923966.js"),["assets/GaugeJS-5f923966.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js"]),"../dyn/ImportFields.svelte":()=>D(()=>import("./ImportFields-ea73ec40.js"),["assets/ImportFields-ea73ec40.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js","assets/Pagination-a0736574.js"]),"../dyn/ManageDBTable.svelte":()=>D(()=>import("./ManageDBTable-fb6bb260.js"),["assets/ManageDBTable-fb6bb260.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js","assets/Pagination-a0736574.js"]),"../dyn/MiniStat.svelte":()=>D(()=>import("./MiniStat-7d0feab2.js"),["assets/MiniStat-7d0feab2.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js"]),"../dyn/ObjectEditor.svelte":()=>D(()=>import("./ObjectEditor-dc630b79.js"),["assets/ObjectEditor-dc630b79.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css"]),"../dyn/ObjectEditorGPT.svelte":()=>D(()=>import("./ObjectEditorGPT-00bd36dc.js"),["assets/ObjectEditorGPT-00bd36dc.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/ObjectEditorGPT-7ef2f271.css"]),"../dyn/PickDates.svelte":()=>D(()=>import("./PickDates-6c719e6f.js"),["assets/PickDates-6c719e6f.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js"]),"../dyn/RowLevelAccess.svelte":()=>D(()=>import("./RowLevelAccess-316a30d8.js"),["assets/RowLevelAccess-316a30d8.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js","assets/Pagination-a0736574.js"]),"../dyn/TranslateDBTable.svelte":()=>D(()=>import("./TranslateDBTable-eef4bf54.js"),["assets/TranslateDBTable-eef4bf54.js","assets/index-13d4ac78.js","assets/index-1fc5bb3b.css","assets/pt-607305e9.js","assets/Pagination-a0736574.js"])}),`../dyn/${(L=y==null?void 0:y[0])==null?void 0:L.component}.svelte`)).default}catch(h){t(0,g.msg=h==null?void 0:h.message,g),t(0,g.type="danger",g),t(0,g.open=!0,g)}Ee(c),t(1,V=!1)})()});const De=(_,L,h)=>{try{t(4,Q={...Q,[_.label]:W.cloneDeep(L)})}catch(I){console.log(I.message)}},Te=(_,L)=>Z(_),we=_=>{t(2,E=_)},Le=(_,L,h,I)=>{t(3,L[h].context_menu=!1,k)},Ie=_=>{t(0,g.open=!1,g)};return n.$$set=_=>{"table"in _&&t(7,c=_.table),"data"in _&&t(8,i=_.data),"menu"in _&&t(9,m=_.menu),"is_fk"in _&&t(10,s=_.is_fk),"main_pk_id"in _&&t(11,r=_.main_pk_id),"main_table"in _&&t(12,l=_.main_table),"label"in _&&t(13,u=_.label),"limit"in _&&t(14,R=_.limit),"is_subform"in _&&t(15,O=_.is_subform),"is_submenu"in _&&t(16,f=_.is_submenu),"actions"in _&&t(17,d=_.actions),"has_actions"in _&&t(18,b=_.has_actions),"has_numbering"in _&&t(19,C=_.has_numbering),"has_check"in _&&t(20,J=_.has_check),"opts"in _&&t(21,N=_.opts)},n.$$.update=()=>{n.$$.dirty[0]&128&&console.log({table:c})},[g,V,E,k,Q,a,Z,c,i,m,s,r,l,u,R,O,f,d,b,C,J,N,De,Te,we,Le,Ie]}class Fe extends Ae{constructor(e){super(),Pe(this,e,qe,Ge,Re,{table:7,data:8,menu:9,is_fk:10,main_pk_id:11,main_table:12,label:13,limit:14,is_subform:15,is_submenu:16,actions:17,has_actions:18,has_numbering:19,has_check:20,opts:21},null,[-1,-1])}}export{Fe as default};
